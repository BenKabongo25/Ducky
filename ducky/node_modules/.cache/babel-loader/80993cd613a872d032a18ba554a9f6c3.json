{"ast":null,"code":"import _classCallCheck from \"/home/labicquette/L3/Ducky/ducky/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/labicquette/L3/Ducky/ducky/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport axios from \"axios\";\nimport { User } from '../objects/User';\nexport var UserServices =\n/*#__PURE__*/\nfunction () {\n  function UserServices() {\n    _classCallCheck(this, UserServices);\n  }\n\n  _createClass(UserServices, null, [{\n    key: \"errorCallback\",\n    value: function errorCallback(error) {\n      if (error.response) {\n        console.log(error.response.data);\n        console.log(error.response.status);\n        console.log(error.response.headers);\n      } else if (error.request) {\n        console.log(error.request);\n      } else {\n        console.log('Error', error.message);\n      }\n\n      console.log(error.config);\n    }\n  }, {\n    key: \"login\",\n    value: function login(username, password) {\n      var usersJson = require('../../ressources/test_database/users.json');\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = usersJson[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var userObject = _step.value;\n\n          if (userObject.username === username) {\n            if (userObject.password === password) return {\n              ok: true,\n              user: User.fromJSON(userObject)\n            };\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return {\n        ok: false,\n        message: \"Nom d'utilisateur ou mot de passe incorrects !\"\n      };\n    }\n  }, {\n    key: \"login2\",\n    value: function login2(username, password) {\n      axios.post('/1/users/login', {\n        username: username,\n        mail: username,\n        phone: username,\n        password: password\n      }).then(function (response) {\n        if (response.status === 200) {} else {}\n      }).catch(function (error) {\n        if (error.response) {\n          console.log(error.response.data);\n          console.log(error.response.status);\n          console.log(error.response.headers);\n        } else if (error.request) {\n          console.log(error.request);\n        } else {\n          console.log('Error', error.message);\n        }\n\n        console.log(error.config);\n      }).then(function () {});\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      axios.post('/1/users/login').then(function (response) {}).catch(function (error) {}).then(function () {});\n    }\n  }]);\n\n  return UserServices;\n}();","map":{"version":3,"sources":["/home/labicquette/L3/Ducky/ducky/src/model/services/UserServices.js"],"names":["axios","User","UserServices","error","response","console","log","data","status","headers","request","message","config","username","password","usersJson","require","userObject","ok","user","fromJSON","post","mail","phone","then","catch"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { User } from '../objects/User';\n\nexport class UserServices {\n\n    static errorCallback(error) {\n        if (error.response) {\n            console.log(error.response.data);\n            console.log(error.response.status);\n            console.log(error.response.headers);\n          } else if (error.request) {\n            console.log(error.request);\n          } else {\n            console.log('Error', error.message);\n          }\n          console.log(error.config);\n    }\n\n    static login(username, password) {\n        let usersJson = require('../../ressources/test_database/users.json');\n        for (let userObject of usersJson) {\n            if (userObject.username === username) {\n                if (userObject.password === password)\n                    return {\n                        ok: true,\n                        user: User.fromJSON(userObject)\n                    };\n            }\n        }\n        return {\n            ok: false,\n            message: \"Nom d'utilisateur ou mot de passe incorrects !\"\n        };\n    }\n\n    static login2(username, password) {\n        axios.post('/1/users/login', {\n            username: username,\n            mail: username,\n            phone: username,\n            password: password\n        })\n        .then((response) => {\n            if (response.status === 200) {\n\n            }\n            else {\n\n            }\n        })\n        .catch((error) => {\n            if (error.response) {\n                console.log(error.response.data);\n                console.log(error.response.status);\n                console.log(error.response.headers);\n            } else if (error.request) {\n                console.log(error.request);\n            } else {\n                console.log('Error', error.message);\n            }\n            console.log(error.config);\n        })\n        .then(() => {\n\n        });\n    }\n\n    static logout() {\n        axios.post('/1/users/login')\n        .then((response) => {\n\n        })\n        .catch((error) => {\n\n        })\n        .then(() => {\n\n        });\n    }\n\n\n\n}\n"]},"metadata":{},"sourceType":"module"}